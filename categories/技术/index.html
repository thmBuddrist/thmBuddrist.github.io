<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>分类: 技术 | 小棒槌的小窝</title><meta name="keywords" content="小棒槌"><meta name="author" content="小棒槌"><meta name="copyright" content="小棒槌"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="小棒槌的小窝，记录生活、学习和工作的地方">
<meta property="og:type" content="website">
<meta property="og:title" content="小棒槌的小窝">
<meta property="og:url" content="https://thmbuddrist.xyz/categories/%E6%8A%80%E6%9C%AF/index.html">
<meta property="og:site_name" content="小棒槌的小窝">
<meta property="og:description" content="小棒槌的小窝，记录生活、学习和工作的地方">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://thmbuddrist.xyz/img/sm/%E6%9C%A8%E9%B1%BC.png">
<meta property="article:author" content="小棒槌">
<meta property="article:tag" content="小棒槌">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://thmbuddrist.xyz/img/sm/%E6%9C%A8%E9%B1%BC.png"><link rel="shortcut icon" href="/img/sm/%E6%9C%A8%E9%B1%BC.png"><link rel="canonical" href="https://thmbuddrist.xyz/categories/%E6%8A%80%E6%9C%AF/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '分类: 技术',
  isPost: false,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-08-13 15:59:44'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3571881_23oz72jsv2z.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/sm/%E6%9C%A8%E9%B1%BC.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw far fa-calendar-alt"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/life/family/"><i class="fa-fw fas fa-home"></i><span> 家庭</span></a></li><li><a class="site-page child" href="/categories/%E7%94%9F%E6%B4%BB/%E7%BE%8E%E9%A3%9F/"><i class="fa-fw fa-solid fa-bowl-food"></i><span> 美食</span></a></li><li><a class="site-page child" href="/galleryGroup/"><i class="fa-fw fas fa-camera"></i><span> 图库</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/life/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 图书</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-microchip"></i><span> 技术</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/"><i class="fa-fw iconfont icon-hexo"></i><span> Hexo</span></a></li><li><a class="site-page child" href="/categories/%E6%8A%80%E6%9C%AF/Obsidian/"><i class="fa-fw fas fa-gem"></i><span> Obsidian</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page" id="page-header" style="background-image: url('https://image-thm.thmzj.top//images/20220807204759.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小棒槌的小窝</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw far fa-calendar-alt"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/life/family/"><i class="fa-fw fas fa-home"></i><span> 家庭</span></a></li><li><a class="site-page child" href="/categories/%E7%94%9F%E6%B4%BB/%E7%BE%8E%E9%A3%9F/"><i class="fa-fw fa-solid fa-bowl-food"></i><span> 美食</span></a></li><li><a class="site-page child" href="/galleryGroup/"><i class="fa-fw fas fa-camera"></i><span> 图库</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/life/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 图书</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-microchip"></i><span> 技术</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/"><i class="fa-fw iconfont icon-hexo"></i><span> Hexo</span></a></li><li><a class="site-page child" href="/categories/%E6%8A%80%E6%9C%AF/Obsidian/"><i class="fa-fw fas fa-gem"></i><span> Obsidian</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="page-site-info"><h1 id="site-title">技术</h1></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/%E6%8A%80%E6%9C%AF/Hexo/d36dc442/" title="Butterfly音乐播放器的添加"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220813150918.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly音乐播放器的添加"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%8A%80%E6%9C%AF/Hexo/d36dc442/" title="Butterfly音乐播放器的添加">Butterfly音乐播放器的添加</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-13T07:02:19.000Z" title="发表于 2022-08-13 15:02:19">2022-08-13</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-13T07:04:10.000Z" title="更新于 2022-08-13 15:04:10">2022-08-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/">Hexo</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Computer-Service-Hexo/">Computer/Service/Hexo</a></span></div><div class="content">
说明：该配置基于 Butterfly 主题版本为 4.2.0，基本参考官方教程，不修改 pug 文件，主题已经集成了相关的设置，该博文对其部分内容进行补充。参考链接在文章末尾给出。

安装和配置安装 hexo-tag-aplayer 这款插件。执行如下指令：
1npm install --save hexo-tag-aplayer

插件配置方式为修改 Hexo 的配置文件中进行如下修改。就是你的 Hexo 根目录下的_config.yml文件。
123aplayer:  meting: true  asset_inject: false


开启主题配置文件中的aplayerInject如下所示
1234# Inject the css and script (aplayer/meting)aplayerInject:  enable: true  per_page: true

主题配置文件的就是自己建立的_config.butterfly.yml文件。建议使用 vscode，可以进行全局搜索。更加方便进行修改。至此就已经可以使用了。下面介绍两种最常用的使用。
常用方式以本博客为 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/%E6%8A%80%E6%9C%AF/Hexo/22e1d5da/" title="Butterfly 主题美化"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220808122419.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly 主题美化"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%8A%80%E6%9C%AF/Hexo/22e1d5da/" title="Butterfly 主题美化">Butterfly 主题美化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-08T06:48:18.000Z" title="发表于 2022-08-08 14:48:18">2022-08-08</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-08T06:49:27.000Z" title="更新于 2022-08-08 14:49:27">2022-08-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/">Hexo</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Computer-Service-Hexo/">Computer/Service/Hexo</a></span></div><div class="content">美化 &#x2F; 特效
自定义主题色可以修改大部分 UI 颜色
修改 主题配置文件，比如：

颜色值必须被双引号包裹，就像&quot;#000&quot;而不是#000。否则将会在构建的时候报错！

123456789101112131415theme_color:  enable: true  main: &quot;#49B1F5&quot;  paginator: &quot;#00c4b6&quot;  button_hover: &quot;#FF7242&quot;  text_selection: &quot;#00c4b6&quot;  link_color: &quot;#99a9bf&quot;  meta_color: &quot;#858585&quot;  hr_color: &quot;#A4D8FA&quot;  code_foreground: &quot;#F47466&quot;  code_background: &quot;rgba(27, 31, 35, .05)&quot;  toc_color: &quot;#00c4b6&quot;   ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/%E6%8A%80%E6%9C%AF/Hexo/5345d8c7/" title="Butterfly 安装"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220808131824.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly 安装"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%8A%80%E6%9C%AF/Hexo/5345d8c7/" title="Butterfly 安装">Butterfly 安装</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-08T05:17:37.000Z" title="发表于 2022-08-08 13:17:37">2022-08-08</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-08T05:42:16.000Z" title="更新于 2022-08-08 13:42:16">2022-08-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/">Hexo</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Computer-Service-Hexo/">Computer/Service/Hexo</a></span></div><div class="content">安装
git安装（github）git安装（gitee）npm安装稳定版【建议】在你的 Hexo 根目录里
1git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly
测试版

测试版可能存在 bug，追求稳定的请安装稳定版

如果想要安装比较新的 dev 分支，可以
1git clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly

升级方法：在主题目录下，运行 git pull稳定版【建议】
在你的 Hexo 根目录里
1git clone -b master https://gitee.com/immyw/hexo-theme-butterfly.git themes/butterfly

测试版

测试版可能存在 Bugs，追求稳定的请安装稳定版

如果想要安装比较新的 dev 分支，可以
1git clone -b dev https://gi ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/%E6%8A%80%E6%9C%AF/Hexo/e37a163a/" title="Hexo 快速搭建指南"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220807204759.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hexo 快速搭建指南"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%8A%80%E6%9C%AF/Hexo/e37a163a/" title="Hexo 快速搭建指南">Hexo 快速搭建指南</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-06T03:30:46.000Z" title="发表于 2022-08-06 11:30:46">2022-08-06</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-06T05:32:07.000Z" title="更新于 2022-08-06 13:32:07">2022-08-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/">Hexo</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Computer-Service-Hexo/">Computer/Service/Hexo</a></span></div><div class="content">1. 安装与使用 Hexo1.1 安装全局安装 hexo-cli ，用以创建 hexo 项目：
1npm install hexo-cli -g

安装完成后，就可以在终端使用 hexo 指令了，可以使用以下指令创建一个 hexo 项目：
123hexo init hexo-blogcd hexo-blogyarn install

完成后项目目录如下：
12345678.├── _config.yml # 网站的基础配置，文档：https://hexo.io/zh-cn/docs/configuration├── package.json├── scaffolds # 文章模板├── source|   ├── _drafts|   └── _posts # 你的 markdown 文章就需要存放在此目录下└── themes # 存放主题源码

1.2 安装第三方主题npm 安装Hexo 5.0.0 版本以上，可以使用 npm 安装主题，简单易用、方便升级，但缺点是无法修改源码。
以 hexo-theme-fluid 主题为例，使用 npm 安装只需要执行：
123yarn add ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/%E6%8A%80%E6%9C%AF/Hexo/7dab893f/" title="Hexo + Obsidian + Git 完美的博客部署与编辑方案"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220807204759.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hexo + Obsidian + Git 完美的博客部署与编辑方案"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%8A%80%E6%9C%AF/Hexo/7dab893f/" title="Hexo + Obsidian + Git 完美的博客部署与编辑方案">Hexo + Obsidian + Git 完美的博客部署与编辑方案</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-06T03:23:12.000Z" title="发表于 2022-08-06 11:23:12">2022-08-06</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-08T09:38:50.000Z" title="更新于 2022-08-08 17:38:50">2022-08-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/">Hexo</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Computer-Service-Hexo/">Computer/Service/Hexo</a></span></div><div class="content">1.前言在之前的文章Hexo 快速搭建指南中，重点讲解了如何搭建以及部署博客。但是在后期写博客的过程中，有可能遇到很多麻烦，比如：

我不想手动维护文章的 Categorys，我想以文件目录的形式管理文章分类
VSCode 编写 Markdown 文件不爽，我想用其他的编辑器来写 Markdown
hexo new 指令生成的模板太拉了，我不想用
我想把我的 markdown 文档同步到云平台上，方便我的其他设备即时查看

那么这篇文章就会教你使用最舒服的姿势来后期维护你的博客，减少心智负担与解决各种不爽的地方。
2. 更好的文章管理方案2.1 文章以目录分类当我们写好一篇文章后，按照 hexo 的默认配置，我们需要将其放在 source/_post 目录下，等时间长了之后，_post 目录下的文章就会变得杂乱无章，无法让我们快速的 review 到一篇文章。
那么最好的解决方案就是我们在创建文章的时候以 文章分类 作为文件夹创建我们的文章，比如：
12345678910111213.└── source    └── _post        ├── 前端        │   ├─ ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/%E6%8A%80%E6%9C%AF/Hexo/901ffb1c/" title="自定义侧边栏"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://fastly.jsdelivr.net/gh/jerryc127/CDN/img/aside-diy-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自定义侧边栏"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%8A%80%E6%9C%AF/Hexo/901ffb1c/" title="自定义侧边栏">自定义侧边栏</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-06T02:56:32.000Z" title="发表于 2022-08-06 10:56:32">2022-08-06</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-09T02:18:27.000Z" title="更新于 2022-08-09 10:18:27">2022-08-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/">Hexo</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Computer-Service-Hexo/">Computer/Service/Hexo</a></span></div><div class="content">适用于 &gt;&#x3D; 3.8.0
侧边栏现在支持自定义了，可以添加自己喜欢的 widget。
可添加自己的 widget，也可以对现有的 widget 进行排序（博客资料和 公告这两个固定，其它的能排序）
只需要配置 sort_order就行。（使用了 Flex 佈局的 order 属性，具体可查看 mozilla 文档。简单来讲，就是配置数字来实现排序，如果不配置，则默认为 0。数字越小，排序越靠前。
12345678910111213141516aside: ...  card_recent_post:    sort_order:   card_categories:    sort_order:   card_tags:    sort_order:   card_archives:    sort_order:   card_webinfo:    sort_order: newest_comments:  enable: true  sort_order:

如果你想添加自己的内容到侧边栏去，你可以自定义。
创建 widget.yml在 Hexo 博客目录中的sou ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/%E6%8A%80%E6%9C%AF/Hexo/9c1688bd/" title="Butterfly 主题配置"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220808122419.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly 主题配置"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%8A%80%E6%9C%AF/Hexo/9c1688bd/" title="Butterfly 主题配置">Butterfly 主题配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-03T13:49:04.000Z" title="发表于 2022-08-03 21:49:04">2022-08-03</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-09T00:55:01.000Z" title="更新于 2022-08-09 08:55:01">2022-08-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/">Hexo</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Computer-Service-Hexo/">Computer/Service/Hexo</a></span></div><div class="content">基础设置语言
修改站点配置文件 _config.yml
默认语言是 en
主题支持三种语言

default(en)
zh-CN (简体中文)
zh-TW (繁体中文)

网站资料
修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改博客根目录的_config.yml

导航菜单
修改 主题配置文件
123456789Home: / || fas fa-homeArchives: /archives/ || fas fa-archiveTags: /tags/ || fas fa-tagsCategories: /categories/ || fas fa-folder-openList||fas fa-list:  Music: /music/ || fas fa-music  Movie: /movies/ || fas fa-videoLink: /link/ || fas fa-linkAbout: /about/ || fas fa-heart

必须是 /xxx/，后面||分开，然后写图标名。
如果不希望显示图标，图标名可不写。
默认子目录是展开的，如果你想要隐藏，在 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/%E6%8A%80%E6%9C%AF/Hexo/b1d4025b/" title="hello-world"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://fastly.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hello-world"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%8A%80%E6%9C%AF/Hexo/b1d4025b/" title="hello-world">hello-world</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-01T17:59:47.000Z" title="发表于 2022-08-02 01:59:47">2022-08-02</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-06T09:22:23.000Z" title="更新于 2022-08-06 17:22:23">2022-08-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/">Hexo</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Computer-Service-Hexo/">Computer/Service/Hexo</a></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

-gMore info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/%E6%8A%80%E6%9C%AF/Hexo/943c37f2/" title="hexo-github自动化部署"><img class="post_bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/bg/wallhaven-wyomo6.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo-github自动化部署"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%8A%80%E6%9C%AF/Hexo/943c37f2/" title="hexo-github自动化部署">hexo-github自动化部署</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-01T06:25:32.000Z" title="发表于 2022-08-01 14:25:32">2022-08-01</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-08T06:24:31.000Z" title="更新于 2022-08-08 14:24:31">2022-08-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/">Hexo</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Computer-Service-Hexo/">Computer/Service/Hexo</a></span></div><div class="content">github 将整个文件夹推送到自己的仓库：https://blog.csdn.net/viafcccy/article/details/85527118
前提 
node.js 环境 和 git 都已正确安装 （其实能正常运行 hexo 就已经说明正确安装了）
 hexo 可以正常运行 可以正常部署（这里介绍部署到 github pages ）

配置好 hexo 的主题，博客名称等等

    ok，有了以上前提，可以继续了
_config.yml 文件中在前提情况下，已经配置好了:
1234deploy: type: git repo: https://github.com/用户名/仓库名.git branch: master

此时我们需要将上面 repo 的配置改成 ssh 格式——即 &#103;&#105;&#x74;&#x40;&#x67;&#105;&#x74;&#x68;&#117;&#x62;&#x2e;&#99;&#x6f;&#x6d;: 用户名 &#x2F; 仓库名. git
避免在执行 actions 时 部署出错
随便在任何文件位置可以直接右键 git b ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/sm/%E6%9C%A8%E9%B1%BC.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">小棒槌</div><div class="author-info__description">小棒槌的小窝，记录生活、学习和工作的地方</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/thmbuddrist" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:thmbuddrist@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/%E6%8A%80%E6%9C%AF/Hexo/d36dc442/" title="Butterfly音乐播放器的添加"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220813150918.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly音乐播放器的添加"/></a><div class="content"><a class="title" href="/%E6%8A%80%E6%9C%AF/Hexo/d36dc442/" title="Butterfly音乐播放器的添加">Butterfly音乐播放器的添加</a><time datetime="2022-08-13T07:02:19.000Z" title="发表于 2022-08-13 15:02:19">2022-08-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%8A%80%E6%9C%AF/Hexo/22e1d5da/" title="Butterfly 主题美化"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220808122419.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly 主题美化"/></a><div class="content"><a class="title" href="/%E6%8A%80%E6%9C%AF/Hexo/22e1d5da/" title="Butterfly 主题美化">Butterfly 主题美化</a><time datetime="2022-08-08T06:48:18.000Z" title="发表于 2022-08-08 14:48:18">2022-08-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%8A%80%E6%9C%AF/Hexo/5345d8c7/" title="Butterfly 安装"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220808131824.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Butterfly 安装"/></a><div class="content"><a class="title" href="/%E6%8A%80%E6%9C%AF/Hexo/5345d8c7/" title="Butterfly 安装">Butterfly 安装</a><time datetime="2022-08-08T05:17:37.000Z" title="发表于 2022-08-08 13:17:37">2022-08-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E7%94%9F%E6%B4%BB/%E7%BE%8E%E9%A3%9F/d48bac9e/" title="水果沙拉"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220807200204.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="水果沙拉"/></a><div class="content"><a class="title" href="/%E7%94%9F%E6%B4%BB/%E7%BE%8E%E9%A3%9F/d48bac9e/" title="水果沙拉">水果沙拉</a><time datetime="2022-08-06T09:05:22.000Z" title="发表于 2022-08-06 17:05:22">2022-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%8A%80%E6%9C%AF/Hexo/e37a163a/" title="Hexo 快速搭建指南"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image-thm.thmzj.top//images/20220807204759.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hexo 快速搭建指南"/></a><div class="content"><a class="title" href="/%E6%8A%80%E6%9C%AF/Hexo/e37a163a/" title="Hexo 快速搭建指南">Hexo 快速搭建指南</a><time datetime="2022-08-06T03:30:46.000Z" title="发表于 2022-08-06 11:30:46">2022-08-06</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%85%B6%E4%BB%96/"><span class="card-category-list-name">其他</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/"><span class="card-category-list-name">技术</span><span class="card-category-list-count">9</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/Hexo/"><span class="card-category-list-name">Hexo</span><span class="card-category-list-count">9</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/"><span class="card-category-list-name">生活</span><span class="card-category-list-count">1</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/%E7%BE%8E%E9%A3%9F/"><span class="card-category-list-name">美食</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Computer-Service-Hexo/" style="font-size: 1.5em; color: #99a9bf">Computer/Service/Hexo</a> <a href="/tags/%E5%AE%B6%E5%BA%AD%E7%94%9F%E6%B4%BB/" style="font-size: 1.1em; color: #999">家庭生活</a> <a href="/tags/%E5%AE%B6%E5%BA%AD%E7%94%9F%E6%B4%BB-%E9%A3%9F%E7%89%A9-%E9%A3%9F%E8%B0%B1/" style="font-size: 1.1em; color: #999">家庭生活/食物/食谱</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/08/"><span class="card-archive-list-date">八月 2022</span><span class="card-archive-list-count">11</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">11</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-07-29T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">22.8k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-08-13T07:59:44.117Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div><div class="card-widget user-map" id="user-map"><div class="item-headline"><i class="fas fa-heartbeat"></i><span>訪客地圖</span></div><div class="item-content"><script type="text/javascript" id="clstr_globe" src="//clustrmaps.com/globe.js?d=xnQwObxtHNyquBL3z_1hoklW9PEz_SCFl5-up5zhQE0"></script></div></div></div></div></main><footer id="footer" style="background: linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)"><div id="footer-wrap"><div class="copyright">&copy;2022 By 小棒槌</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">本网站由<a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"><img class="icp-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/sm/upyun_logos/又拍云_logo5.png"></a>提供CDN加速/云存储服务</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        const urlArray = data.body.match(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?/ig)
        if (data.user.login === 'utterances-bot') {
          return urlArray.pop()
        } else {
          return urlArray.shift()
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 10/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/thmBuddrist/thmBuddrist.github.io/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (false) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="6894168416" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-lrcType="-1"> </div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>